<!doctype html><html lang="en" data-theme="dark"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-126807198-1"></script><script>window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-126807198-1');</script><title>Menus – Timber v2 – Timber Documentation</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="docsearch:version" content="v2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"><link rel="stylesheet" href="/docs/build/css/styles.css?id=ca7f85fab34b0835f0eda46e1f2a8b4f"><link rel="stylesheet" href="/docs/build/css/mobile.css?id=6d8ba2c03ef755b0b10457946f11ebe0" media="screen and (max-width: 979px)"><script src="/docs/build/js/app.js?id=844725d01ccc3115ce817a37e99c97d2" defer="defer"></script><link rel="icon" href="/docs/build/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="57x57" href="/docs/build/favicons/apple-touch-icon-57x57.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/docs/build/favicons/apple-touch-icon-114x114.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/docs/build/favicons/apple-touch-icon-72x72.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/docs/build/favicons/apple-touch-icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="60x60" href="/docs/build/favicons/apple-touch-icon-60x60.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="/docs/build/favicons/apple-touch-icon-120x120.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicons/apple-touch-icon-76x76.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicons/apple-touch-icon-152x152.png"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-196x196.png" sizes="196x196"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/docs/build/favicons/favicon-128.png" sizes="128x128"><meta name="application-name" content="Timber Documentation"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="/docs/build/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="/docs/build/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="/docs/build/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="/docs/build/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="/docs/build/favicons/mstile-310x310.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TimberWP"><meta name="twitter:title" content="Timber for WordPress Documentation"><meta name="twitter:description" content="Create WordPress themes with beautiful OOP code and the Twig Template Engine"><meta name="twitter:image" content="https://repository-images.githubusercontent.com/7413451/06c62480-b95c-11ea-8b35-b5dd97d070f1"></head><body><header class="header"><div class="logoContainer"><a href="/docs/"><svg aria-hidden="true" focusable="false" class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 104.45 30"><title>Logo Tiny White</title><path class="text" d="M32.41,13.27H28.73V10H39.88v3.26h-3.7v13H32.41Z"/><path class="text" d="M44.28,9.1A2.26,2.26,0,1,1,42,11.36,2.26,2.26,0,0,1,44.28,9.1Zm-1.77,6h3.56V26.3H42.51Z"/><path class="text" d="M62.61,26.3V20.25c0-1.51-.51-2.42-1.72-2.42S59,18.51,59,20.67V26.3H55.55V20.23c0-1.51-.49-2.4-1.68-2.4s-1.93.7-1.93,2.91V26.3H48.5V15.09h3.44v1.63a3.51,3.51,0,0,1,3.24-1.91,3.28,3.28,0,0,1,3.4,2,3.83,3.83,0,0,1,3.51-2C65.35,14.81,66,17,66,19.39V26.3Z"/><path class="text" d="M72,26.3H68.45V10H72v6.68a4.06,4.06,0,0,1,3.44-1.89c3.24,0,5.47,2.54,5.47,5.89s-2.23,5.89-5.47,5.89A4,4,0,0,1,72,24.72Zm5.35-5.61a2.68,2.68,0,1,0-5.35,0,2.68,2.68,0,1,0,5.35,0Z"/><path class="text" d="M86.31,21.56c.07,1.35.63,2.49,2.49,2.49a1.92,1.92,0,0,0,2.07-1.28h3.49C94,24.88,92,26.61,88.82,26.61c-3.93,0-6.05-2.44-6.05-5.91a5.58,5.58,0,0,1,6-5.91c3.51,0,5.77,2.37,5.77,5.12a9,9,0,0,1-.12,1.65Zm0-2H91a2.35,2.35,0,0,0-4.7,0Z"/><path class="text" d="M104.45,18.32a4.67,4.67,0,0,0-1.26-.16c-2,0-3.24,1-3.24,3.77V26.3H96.4V15.09H100V16.9a3.91,3.91,0,0,1,3.42-2,2.52,2.52,0,0,1,1.07.19Z"/><polygon class="shape" points="24.65 26.39 23.09 24.39 14.12 24.39 14.12 22.24 21.42 22.24 19.87 20.24 14.12 20.24 14.12 18.09 21.73 18.09 20.29 16.09 14.12 16.09 14.12 13.94 18.75 13.94 17.31 11.94 14.12 11.94 14.12 9.79 18.5 9.79 17.09 7.79 14.12 7.79 14.12 5.64 15.57 5.64 14.16 3.64 14.12 3.64 14.12 0 7.54 9.17 11.24 9.18 3.77 19.59 7.62 19.59 0 30 14.12 30 14.12 26.39 24.65 26.39"/></svg> <span class="sr-only">Timber</span></a></div><div class="search"><div id="docsearch"></div></div><nav class="navTop" id="nav-top"><ul><li><a href="https://upstatement.com/timber/" target="_blank" rel="noreferrer noopener">About Timber</a></li><li><a href="https://twig.symfony.com/doc/" target="_blank" rel="noreferrer noopener">Twig Docs</a></li><li><a href="https://opencollective.com/timber" target="_blank" rel="noreferrer noopener">Sponsor us</a></li><li><a class="nav-link" href="https://github.com/timber/timber" target="_blank" rel="noreferrer noopener"><span class="sr-only">Star on Github</span> <svg viewBox="0 0 98 96" aria-hidden="true" focusable="false"><path fill="currentColor" fill-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" clip-rule="evenodd"></path></svg></a></li></ul></nav><button class="themeSwitcher" type="button" onclick="window.switchTheme()"><span class="themeSwitcher__indicator themeSwitcher__indicator--dark"><svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg> </span><span class="themeSwitcher__indicator themeSwitcher__indicator--light"><svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg> </span><span class="sr-only">Toggle Light Dark Mode</span></button> <button class="navMobileToggle js-menu-open" type="button" id="nav-mobile-toggle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 34"><path d="M45.6,19.43H2.4a2.43,2.43,0,0,1,0-4.86H45.6a2.43,2.43,0,0,1,0,4.86Z"/><path d="M45.6,4.86H2.4A2.41,2.41,0,0,1,0,2.43,2.41,2.41,0,0,1,2.4,0H45.6A2.41,2.41,0,0,1,48,2.43,2.41,2.41,0,0,1,45.6,4.86Z"/><path d="M45.6,34H2.4a2.43,2.43,0,0,1,0-4.86H45.6a2.43,2.43,0,0,1,0,4.86Z"/></svg> <span class="sr-only">Menu</span></button></header><div class="wrapper"><aside class="sidebar slideup-menu" id="sidebar" data-turbolinks-keep-scroll-position><button class="navClose js-menu-close" type="button"><div class="navClose-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M3.43,48A3.43,3.43,0,0,1,1,42.15L42.15,1A3.43,3.43,0,1,1,47,5.85L5.85,47A3.4,3.4,0,0,1,3.43,48Z"/><path d="M44.57,48a3.4,3.4,0,0,1-2.42-1L1,5.85A3.43,3.43,0,0,1,5.85,1L47,42.15A3.43,3.43,0,0,1,44.57,48Z"/></svg></div><span class="sr-only">Close Menu</span></button><nav class="navVersions"><ul><li><a href="/docs/v2/" class="is-current">v2.x</a></li><li><a href="/docs/v1/">v1.x</a></li></ul></nav><nav id="nav-main" class="navMain"><ul class="navMain-sections"><li class="navMain-section"><h3 class="navMain-title">Installation</h3><ul class="navMain-items"><li class="navMain-item" data-order="10"><a class="navMain-link" href="/docs/v2/installation/installation/">Installation</a></li><li class="navMain-item" data-order="30"><a class="navMain-link" href="/docs/v2/installation/manage-timber-with-composer/">Managing Timber with Composer</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Getting Started</h3><ul class="navMain-items"><li class="navMain-item" data-order="100"><a class="navMain-link" href="/docs/v2/getting-started/introduction/">Introduction</a></li><li class="navMain-item" data-order="200"><a class="navMain-link" href="/docs/v2/getting-started/template-inheritance-and-includes/">Template inheritance and includes</a></li><li class="navMain-item" data-order="300"><a class="navMain-link" href="/docs/v2/getting-started/a-single-post/">A single post</a></li><li class="navMain-item" data-order="400"><a class="navMain-link" href="/docs/v2/getting-started/a-post-archive/">A post archive</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title navMain-sectionTitle">Guides</h3><ul class="navMain-items"><li class="navMain-item" data-order="50"><a class="navMain-link" href="/docs/v2/guides/context/">Context</a></li><li class="navMain-item" data-order="75"><a class="navMain-link" href="/docs/v2/guides/template-locations/">Template Locations</a></li><li class="navMain-item" data-order="110"><a class="navMain-link" href="/docs/v2/guides/posts/">Posts</a></li><li class="navMain-item" data-order="120"><a class="navMain-link" href="/docs/v2/guides/terms/">Terms</a></li><li class="navMain-item" data-order="130"><a class="navMain-link" href="/docs/v2/guides/users/">Users</a></li><li class="navMain-item" data-order="140"><a class="navMain-link" href="/docs/v2/guides/comments/">Comments</a></li><li class="navMain-item" data-order="150"><a class="navMain-link" href="/docs/v2/guides/menus/" aria-current>Menus</a></li><li class="navMain-item" data-order="160"><a class="navMain-link" href="/docs/v2/guides/widgets/">Widgets</a></li><li class="navMain-item" data-order="170"><a class="navMain-link" href="/docs/v2/guides/shortcodes/">Shortcodes</a></li><li class="navMain-item" data-order="200"><a class="navMain-link" href="/docs/v2/guides/twig/">Twig</a></li><li class="navMain-item" data-order="220"><a class="navMain-link" href="/docs/v2/guides/twig-filters/">Twig filters</a></li><li class="navMain-item" data-order="300"><a class="navMain-link" href="/docs/v2/guides/cookbook-text/">Text Cookbook</a></li><li class="navMain-item" data-order="400"><a class="navMain-link" href="/docs/v2/guides/escaping/">Escaping</a></li><li class="navMain-item" data-order="500"><a class="navMain-link" href="/docs/v2/guides/custom-page-templates/">Custom Page Templates</a></li><li class="navMain-item" data-order="600"><a class="navMain-link" href="/docs/v2/guides/custom-fields/">Custom Fields</a></li><li class="navMain-item" data-order="800"><a class="navMain-link" href="/docs/v2/guides/functions/">Functions</a></li><li class="navMain-item" data-order="1000"><a class="navMain-link" href="/docs/v2/guides/cookbook-images/">Image Cookbook</a></li><li class="navMain-item" data-order="1100"><a class="navMain-link" href="/docs/v2/guides/pagination/">Pagination</a></li><li class="navMain-item" data-order="1200"><a class="navMain-link" href="/docs/v2/guides/sidebars/">Sidebars</a></li><li class="navMain-item" data-order="1300"><a class="navMain-link" href="/docs/v2/guides/performance/">Performance/Caching</a></li><li class="navMain-item" data-order="1350"><a class="navMain-link" href="/docs/v2/guides/date-time/">Date/Time in Timber</a></li><li class="navMain-item" data-order="1400"><a class="navMain-link" href="/docs/v2/guides/internationalization/">Internationalization</a></li><li class="navMain-item" data-order="1500"><a class="navMain-link" href="/docs/v2/guides/cheatsheet/">Cheatsheet</a></li><li class="navMain-item" data-order="1550"><a class="navMain-link" href="/docs/v2/guides/gutenberg/">Block Editor (Gutenberg)</a></li><li class="navMain-item" data-order="1600"><a class="navMain-link" href="/docs/v2/guides/extending-timber/">Extending Timber</a></li><li class="navMain-item" data-order="1650"><a class="navMain-link" href="/docs/v2/guides/extending-twig/">Extending Twig</a></li><li class="navMain-item" data-order="1660"><a class="navMain-link" href="/docs/v2/guides/class-maps/">Class Maps</a></li><li class="navMain-item" data-order="1670"><a class="navMain-link" href="/docs/v2/guides/wp-cli/">WP-CLI</a></li><li class="navMain-item" data-order="1700"><a class="navMain-link" href="/docs/v2/guides/hosts-servers/">Hosts &amp; Servers</a></li><li class="navMain-item" data-order="1800"><a class="navMain-link" href="/docs/v2/guides/debugging/">Debugging</a></li><li class="navMain-item" data-order="1900"><a class="navMain-link" href="/docs/v2/guides/testing/">Automated Testing</a></li><li class="navMain-item" data-order="2000"><a class="navMain-link" href="/docs/v2/guides/routing/">Routing</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/guides/custom-integrations/">Custom Integrations</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/guides/woocommerce/">WooCommerce</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Reference</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-archives/">Archives</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-attachment/">Attachment</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-cache-cleaner/">Cleaner</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-comment/">Comment</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-datetimehelper/">DateTimeHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-externalimage/">ExternalImage</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-helper/">Helper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-image/">Image</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-imagedimensions/">ImageDimensions</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-imagehelper/">ImageHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-menu/">Menu</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-menuitem/">MenuItem</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pagesmenu/">PagesMenu</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pagination/">Pagination</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-pathhelper/">PathHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-post/">Post</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postarrayobject/">PostArrayObject</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postexcerpt/">PostExcerpt</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-postquery/">PostQuery</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-site/">Site</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-term/">Term</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-texthelper/">TextHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-theme/">Theme</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-timber/">Timber</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-urlhelper/">URLHelper</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/reference/timber-user/">User</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Hooks</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/hooks/actions/">Action Hooks</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/hooks/filters/">Filter Hooks</a></li></ul></li><li class="navMain-section"><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/integrations/advanced-custom-fields/">Advanced Custom Fields</a></li></ul></li><li class="navMain-section"><h3 class="navMain-title">Upgrade Guides</h3><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/upgrade-guides/1.0/">Upgrade to 1.0</a></li><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/upgrade-guides/2.0/">Upgrade to 2.0</a></li></ul></li><li class="navMain-section"><ul class="navMain-items"><li class="navMain-item" data-order=""><a class="navMain-link" href="/docs/v2/contributing/">Contributing to Timber</a></li></ul></li></ul></nav></aside><div class="main-container"><div class="version-note"><p>You are reading the documentation for <strong>Timber v2.x</strong>. Switch to the documentation for Timber <a href="/docs/v1/">v1.x</a>.</p></div><main><article><h1>Menus</h1><aside><h2 class="heading-small">On this page</h2><nav class="toc"><ol><li><a href="#getting-menus">Getting menus</a><ol><li><a href="#options">Options</a></li><li><a href="#menus-need-to-be-registered">Menus need to be registered</a></li></ol></li><li><a href="#extending-menus">Extending menus</a></li><li><a href="#pages-menu">Pages Menu</a></li><li><a href="#setting-up-a-menu-globally">Setting up a menu globally</a><ol><li><a href="#set-up-all-menus-globally">Set up all menus globally</a></li></ol></li><li><a href="#displaying-the-menu-items">Displaying the menu items</a></li><li><a href="#the-current-menu-item">The current menu item</a><ol><li><a href="#getting-the-current-menu-item-outside-the-loop">Getting the current menu item outside the loop</a></li><li><a href="#getting-a-current-menu-ancestor">Getting a current menu ancestor</a></li><li><a href="#getting-the-current-top-level-item">Getting the current top-level item</a></li></ol></li><li><a href="#menu-item-targets">Menu item targets</a></li><li><a href="#tips">Tips</a></li></ol></nav></aside><div class="content"><p>In Timber, we handle menus a little differently than in WordPress. We’d say it’s a little smoother and more versatile than using WordPress’s <code>wp_nav_menu()</code> function. And you never again need to rely on a crazy <a href="https://codex.wordpress.org/Class_Reference/Walker">Walker Function</a>.</p><h2 id="getting-menus" tabindex="-1">Getting menus <a class="directLink" href="#getting-menus">#</a></h2><p>To get a menu object in Timber, you use <code>Timber::get_menu()</code>. This function is similar to <a href="https://developer.wordpress.org/reference/functions/wp_get_nav_menu_object/"><code>wp_get_nav_menu_object()</code></a>. You have different options for what you pass in as an argument.</p><p>You can pass the <strong>slug of the menu</strong> you want to use:</p><pre class="language-php"><code class="language-php"><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'primary-navigation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Or the <strong>ID</strong> number of the menu:</p><pre class="language-php"><code class="language-php"><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Or the proper <strong>name</strong> from the admin:</p><pre class="language-php"><code class="language-php"><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Primary Navigation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Or the <strong>slug of the registered location</strong>:</p><pre class="language-php"><code class="language-php"><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'primary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>What you get in return is a <a href="https://timber.github.io/docs/v2/reference/timber-menu/"><code>Timber\Menu</code></a> object that holds a collection of <a href="https://timber.github.io/docs/v2/reference/timber-menuitem/"><code>Timber\MenuItem</code></a> objects. If no menu can be found with the argument you provided, the function will return <code>null</code>.</p><p>In earlier versions of Timber, it was possible to pass in nothing. We’ve removed that functionality because it led to confusing cases where a menu built from your pages was returned. If you still want to get a menu from your existing pages, use <a href="#pages-menu"><code>Timber::get_pages_menu()</code></a>.</p><h3 id="options" tabindex="-1">Options <a class="directLink" href="#options">#</a></h3><p>Optionally, you can send additional options to <code>Timber::get_menu()</code> in the second parameter.</p><pre class="language-php"><code class="language-php"><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'primary'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><br>    <span class="token string single-quoted-string">'depth'</span> <span class="token operator">=></span> <span class="token number">2</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Currently, only <code>depth</code> is supported (see <a href="https://developer.wordpress.org/reference/functions/wp_nav_menu/"><code>wp_nav_menu()</code></a> for reference).</p><ul><li><strong>depth</strong> – <em>(int)</em> How many levels of the hierarchy are to be included. 0 means all levels will be included. Default 0.</li></ul><h3 id="menus-need-to-be-registered" tabindex="-1">Menus need to be registered <a class="directLink" href="#menus-need-to-be-registered">#</a></h3><p>Be aware that you first need to register your menu locations with <a href="https://developer.wordpress.org/reference/functions/register_nav_menus/"><code>register_nav_menus()</code></a> before you call <code>Timber::get_menu()</code>.</p><pre class="language-php"><code class="language-php"><span class="token comment">/**<br> * Register Menus<br> */</span><br><span class="token function">add_action</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'after_setup_theme'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">register_nav_menus</span><span class="token punctuation">(</span><span class="token punctuation">[</span><br>        <span class="token string single-quoted-string">'primary'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Primary Menu'</span><span class="token punctuation">,</span><br>        <span class="token string single-quoted-string">'secondary'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Secondary Menu'</span><span class="token punctuation">,</span><br>        <span class="token string single-quoted-string">'footer'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Footer Menu'</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="extending-menus" tabindex="-1">Extending menus <a class="directLink" href="#extending-menus">#</a></h2><p>If you need additional functionality that the <code>Timber\Menu</code> and <code>Timber\MenuItem</code> classes don’t provide or if you want to have cleaner Twig templates, you can extend the <code>Timber\Menu</code> or <code>Timber\MenuItem</code> class with your own classes:</p><pre class="language-php"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">MenuPrimary</span> <span class="token keyword">extends</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Timber<span class="token punctuation">\</span>Menu</span><br><span class="token punctuation">{</span><br><span class="token punctuation">}</span></code></pre><pre class="language-php"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">MenuItemPrimary</span> <span class="token keyword">extends</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Timber<span class="token punctuation">\</span>MenuItem</span><br><span class="token punctuation">{</span><br><span class="token punctuation">}</span></code></pre><p>To initiate your new <code>MenuPrimary</code> menu that will hold <code>MenuItemPrimary</code> objects, you also use <code>Timber::get_menu()</code>.</p><pre class="language-php"><code class="language-php"><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'primary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>In the same way that you <a href="https://timber.github.io/docs/v2/guides/posts/#extending-timber-post">can’t instantiate post objects directly</a>, you <strong>can’t</strong> instantiate <code>Timber\Menu</code> or <code>Timber\MenuItem</code> objects or an object that extends this class with a constructor. Timber will use the <a href="https://timber.github.io/docs/v2/guides/class-maps/#the-menu-class-map">Menu Class Map</a> and the <a href="https://timber.github.io/docs/v2/guides/class-maps/#the-menuitem-class-map">MenuItem Class Map</a> to sort out which class it should use.</p><h2 id="pages-menu" tabindex="-1">Pages Menu <a class="directLink" href="#pages-menu">#</a></h2><p>Timber includes a function to create menu from your pages, without having to register menus first. This is a quick way to create a menu if you have a small website with only a couple of pages.</p><pre class="language-php"><code class="language-php"><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_pages_menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This function will return an instance of <code>Timber\PagesMenu</code>, which is not quite the same as <code>Timber\Menu</code>, but it contains the same <code>Timber\MenuItem</code> objects as you know them.</p><p>If you want to extend a pages menu, you would do it like this:</p><pre class="language-php"><code class="language-php"><span class="token keyword">class</span> <span class="token class-name-definition class-name">ExtendedPagesMenu</span> <span class="token keyword">extends</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Timber<span class="token punctuation">\</span>PagesMenu</span><br><span class="token punctuation">{</span><br><span class="token punctuation">}</span></code></pre><p>There’s a special <a href="https://timber.github.io/docs/v2/guides/class-maps/#the-pages-menu-class-map">PagesMenu Class Map</a> which you can use to make Timber use your custom class.</p><h2 id="setting-up-a-menu-globally" tabindex="-1">Setting up a menu globally <a class="directLink" href="#setting-up-a-menu-globally">#</a></h2><p>Most of the time, you need the menu on every page. To achieve that, you can add your menu to the global context through the <code>timber/context</code> filter. This will make the menu available as an object in the context. The first thing to do is to initialize your menu using <code>Timber::get_menu()</code>.</p><p><strong>functions.php</strong></p><pre class="language-php"><code class="language-php"><span class="token function">add_filter</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'timber/context'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'add_to_context'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">/**<br> * Global Timber context.<br> *<br> * @param array $context Global context variables.<br> */</span><br><span class="token keyword">function</span> <span class="token function-definition function">add_to_context</span><span class="token punctuation">(</span><span class="token variable">$context</span><span class="token punctuation">)</span><br><span class="token punctuation">{</span><br>    <span class="token comment">// So here you are adding data to Timber's context object, i.e...</span><br>    <span class="token variable">$context</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'foo'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'I am some other typical value set in your functions.php file, unrelated to the menu'</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Now, in similar fashion, you add a Timber Menu and send it along to the context.</span><br>    <span class="token variable">$context</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'menu'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'primary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token variable">$context</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Now, when you call <code>Timber::context()</code>, your menu will already be set in the context. You don’t need to initialize the menu in all your template files.</p><p><strong>index.php</strong></p><pre class="language-php"><code class="language-php"><span class="token variable">$context</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'index.twig'</span><span class="token punctuation">,</span> <span class="token variable">$context</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="set-up-all-menus-globally" tabindex="-1">Set up all menus globally <a class="directLink" href="#set-up-all-menus-globally">#</a></h3><p>Here’s a small snippet that you can use to automatically set up all your registered menus in the context.</p><p><strong>functions.php</strong></p><pre class="language-php"><code class="language-php"><span class="token function">add_filter</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'timber/context'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'add_to_context'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">/**<br> * Global Timber context.<br> *<br> * @param array $context Global context variables.<br> */</span><br><span class="token keyword">function</span> <span class="token function-definition function">add_to_context</span><span class="token punctuation">(</span><span class="token variable">$context</span><span class="token punctuation">)</span><br><span class="token punctuation">{</span><br>    <span class="token comment">// Set all nav menus in context.</span><br>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token function">array_keys</span><span class="token punctuation">(</span><span class="token function">get_registered_nav_menus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$location</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Bail out if menu has no location.</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">has_nav_menu</span><span class="token punctuation">(</span><span class="token variable">$location</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">continue</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token class-name static-context">Timber</span><span class="token operator">::</span><span class="token function">get_menu</span><span class="token punctuation">(</span><span class="token variable">$location</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token variable">$context</span><span class="token punctuation">[</span><span class="token variable">$location</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$menu</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">return</span> <span class="token variable">$context</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="displaying-the-menu-items" tabindex="-1">Displaying the menu items <a class="directLink" href="#displaying-the-menu-items">#</a></h2><p>In your Twig file, you can loop over the menu items like normal arrays with <code>{{ menu.items }}</code>. You’re in complete control of the markup. You can use <code>item.children</code> to check for and loop over child menu items.</p><p><strong>index.twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">for</span> item <span class="token operator">in</span> menu<span class="token punctuation">.</span>items <span class="token delimiter punctuation">%}</span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-main-item <span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>classes<span class="token operator">|</span>join<span class="token punctuation">(</span><span class="token string"><span class="token punctuation">'</span> <span class="token punctuation">'</span></span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><br>                    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-main-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><br>                    <span class="token attr-name"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>is_target_blank <span class="token operator">?</span> <span class="token string"><span class="token punctuation">'</span>target="_blank"<span class="token punctuation">'</span></span> <span class="token delimiter punctuation">}}</span></span></span><br>                <span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br><br>                <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">if</span> item<span class="token punctuation">.</span>children <span class="token delimiter punctuation">%}</span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-drop<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">for</span> child <span class="token operator">in</span> item<span class="token punctuation">.</span>children <span class="token delimiter punctuation">%}</span></span><br>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-drop-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><br>                                    <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><br>                                    <span class="token attr-name"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>is_target_blank <span class="token operator">?</span> <span class="token string"><span class="token punctuation">'</span>target="_blank"<span class="token punctuation">'</span></span> <span class="token delimiter punctuation">}}</span></span></span><br>                                <span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>                        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br>                <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endif</span> <span class="token delimiter punctuation">%}</span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span></code></pre><h2 id="the-current-menu-item" tabindex="-1">The current menu item <a class="directLink" href="#the-current-menu-item">#</a></h2><p>When you need to check whether a menu item is the current menu item, you can use the <code>current</code> property. Here’s an example to display child menu items only if it’s the menu item is the currently visited page:</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">if</span> item<span class="token punctuation">.</span>current <span class="token operator">and</span> item<span class="token punctuation">.</span>children <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-child<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">for</span> child <span class="token operator">in</span> item<span class="token punctuation">.</span>children <span class="token delimiter punctuation">%}</span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-child-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><br>                    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-child-link<span class="token punctuation">"</span></span><br>                    <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><br>                <span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endif</span> <span class="token delimiter punctuation">%}</span></span></code></pre><p>Other available properties are</p><ul><li><code>current_item_parent</code> for direct parents of a menu item and</li><li><code>current_item_ancestor</code> for when you have deeper nesting.</li></ul><h3 id="getting-the-current-menu-item-outside-the-loop" tabindex="-1">Getting the current menu item outside the loop <a class="directLink" href="#getting-the-current-menu-item-outside-the-loop">#</a></h3><p>Say you want to display sibling menu items of the current page, for example in a sidebar. You can use the <code>current_item()</code> helper to achieve this:</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidebar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> menu<span class="token punctuation">.</span>current_item<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> menu<span class="token punctuation">.</span>current_item<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">for</span> child <span class="token operator">in</span> menu<span class="token punctuation">.</span>current_item<span class="token punctuation">.</span>children <span class="token delimiter punctuation">%}</span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><h3 id="getting-a-current-menu-ancestor" tabindex="-1">Getting a current menu ancestor <a class="directLink" href="#getting-a-current-menu-ancestor">#</a></h3><p>You can limit the traversal depth of the tree when looking for the current item by passing a <code>$depth</code> parameter to <code>current_item</code>. Going off the previous example, say you wanted the root node of your sidebar to be the <em>second</em> level of the main menu tree. In that case, you could specify a depth of 2:</p><p><strong>Twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sidebar secondary-nav<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> menu<span class="token punctuation">.</span>current_item<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> menu<span class="token punctuation">.</span>current_item<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>third-level-nav-items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">for</span> child <span class="token operator">in</span> menu<span class="token punctuation">.</span>current_item<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children <span class="token delimiter punctuation">%}</span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> child<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>        <span class="token twig language-twig"><span class="token delimiter punctuation">{%</span> <span class="token tag-name keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><h3 id="getting-the-current-top-level-item" tabindex="-1">Getting the current top-level item <a class="directLink" href="#getting-the-current-top-level-item">#</a></h3><p>For getting the top-level (that is, level-1) item corresponding to the current post, you can call <code>current_top_level_item()</code>. This method takes no arguments and is just an alias for <code>current_item(1)</code>.</p><h2 id="menu-item-targets" tabindex="-1">Menu item targets <a class="directLink" href="#menu-item-targets">#</a></h2><p>To get the target for a menu item, you can use <code>item.target</code>:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>target <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre><p>In the menu edit screen, WordPress offers a checkbox for each menu item that lets the administrator decide whether to open a menu item in a new tab. The <code>item.target</code> function will return <code>_blank</code> if that checkbox is ticked, and <code>_self</code> if it’s not ticked.</p><p>You might not need a value <code>_self</code> for the target attribute, because <code>_self</code> is the default value, which opens a link in the same tab/window. If you want to add <code>target=&quot;_blank&quot;</code> only if needed, then you can use the conditional function <code>item.is_target_blank</code> :</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><br>    <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><br>    <span class="token attr-name"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>is_target_blank <span class="token operator">?</span> <span class="token string"><span class="token punctuation">'</span>target="_blank"<span class="token punctuation">'</span></span> <span class="token delimiter punctuation">}}</span></span></span><br><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p>What about <strong>external links</strong>? If your site is <code>example.org</code>, then <code>google.com/whatever</code> is an external link. Whether it makes sense to open links in new tabs is not the topic to discuss here. If you still decide that you want that, you can check whether an item link is external with <code>item.is_external</code>:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><br>    <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><br>    <span class="token attr-name"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>is_external <span class="token operator">?</span> <span class="token string"><span class="token punctuation">'</span>target="_blank"<span class="token punctuation">'</span></span> <span class="token delimiter punctuation">}}</span></span>"</span><br><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p>You could also use it in combination with <code>item.is_target_blank</code>:</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><br>    <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>link <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><br>    <span class="token attr-name"><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>is_target_blank <span class="token operator">or</span> item<span class="token punctuation">.</span>is_external <span class="token operator">?</span> <span class="token string"><span class="token punctuation">'</span>target="_blank"<span class="token punctuation">'</span></span> <span class="token delimiter punctuation">}}</span></span></span><br><span class="token punctuation">></span></span><span class="token twig language-twig"><span class="token delimiter punctuation">{{</span> item<span class="token punctuation">.</span>title <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><h2 id="tips" tabindex="-1">Tips <a class="directLink" href="#tips">#</a></h2><ul><li><a href="https://github.com/jarednova/timber/issues/200">Add items dynamically</a></li></ul></div></article></main></div></div><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script>docsearch({
    appId: '7REN4GR6X4',
    apiKey: '9acbf22ef9a9b117a0f9ba50bd2f4280',
    /**
     * Timber config.
     *
     * @link https://github.com/algolia/docsearch-configs/blob/master/configs/timber.json
     */
    indexName: 'timber',
    container: '#docsearch',
    /**
     * Filter for different doc versions.
     *
     * @link https://www.algolia.com/doc/api-reference/api-parameters/facetFilters/
     */
    searchParameters: {
      facetFilters: ['version:v2']
    },
    // Set debug to true if you want to inspect the dropdown.
    // debug: true
  })</script></body></html>
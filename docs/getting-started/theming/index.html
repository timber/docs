<h2 id="your-first-timber-project">Your first Timber project <a class="directLink" href="#your-first-timber-project">#</a></h2><p>Let’s start with your single post. Find this file:</p><pre><code>wp-content/themes/{timber-starter-theme}/views/single.twig
</code></pre><p>Brilliant! Open it up.</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">extends</span></span> <span class="token string"><span class="token punctuation">"</span>base.twig<span class="token punctuation">"</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">block</span></span> <span class="token property">content</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        &lt;article class="post-type-</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">post_type</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" id="post-</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">ID</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">"><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">subtitle</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blog-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>By<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token entity" title="&bull;">&amp;bull;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">post_date</span><span class="token operator">|</span><span class="token property">date</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br>                <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></span><br>                <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">content</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br>            <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endblock</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><p><strong>What did we just do?</strong></p><p>This is the fun part. Instead of calling stuff from the WordPress API like this:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php the_title(); ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></code></pre><p>We can do it like this in Twig:</p><pre class="language-twig"><code class="language-twig"><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span></code></pre><p>WordPress wants you to interact with its API in a certain way, which sucks. Because soon you get things like:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;?php get_permalink(); ?><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token prolog">&lt;?php the_title(); ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></code></pre><p>Okay, not <em>too</em> terrible, but doesn’t this (Timber) way look so much nicer?</p><pre class="language-twig"><code class="language-twig"><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&lt;a href="</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">link</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">"></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span></code></pre><p>It get’s better. Let’s explain some other concepts.</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">extends</span></span> <span class="token string"><span class="token punctuation">"</span>base.twig<span class="token punctuation">"</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><p>This means that <code>single.twig</code> is using <code>base.twig</code> as its parent template. That’s why you don't see any <code>&lt;head&gt;</code>, <code>&lt;header&gt;</code>, or <code>&lt;footer&gt;</code> tags, those site-wide (usually) things are all controlled in <code>base.twig</code>. You can create any number of base files to extend from (the &quot;base&quot; naming convention is recommended, but not required).</p><p>What if you want modify <code>&lt;head&gt;</code>, etc? Read on to learn all about blocks.</p><h2 id="blocks">Blocks <a class="directLink" href="#blocks">#</a></h2><p>Blocks are the single most important and powerful concept in managing your templates. The <a href="http://twig.sensiolabs.org/doc/templates.html#template-inheritance">official Twig Documentation</a> has more details. Let’s cover the basics.</p><p>In <code>single.twig</code> you see opening and closing block declarations that surround the main page contents.</p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">block</span></span> <span class="token property">content</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token comment">{# other stuff here ... #}</span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endblock</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><p>If you were to peek into <strong>base.twig</strong> you would see a matching set of <code>{% block content %} / {% endblock %}</code> tags. <strong>single.twig</strong> is replacing the content of base’s <code>{% block content %}</code> with its own.</p><h3 id="nesting-blocks-multiple-inheritance">Nesting Blocks, Multiple Inheritance <a class="directLink" href="#nesting-blocks-multiple-inheritance">#</a></h3><p>This is when things get really cool. Whereas most people use PHP includes in a linear fashion, you can create infinite levels of nested blocks to particularly control your page templates. For example, let’s say you occasionally want to replace the title/headline on your <code>single.twig</code> template with a custom image or typography.</p><p>For this demo, let’s assume that the name of the page is &quot;All about Jared&quot; (making its slug <code>all-about-jared</code>). First, I'm going to surround the part of the template I want to control with block declarations:</p><p><strong>single.twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">extends</span></span> <span class="token string"><span class="token punctuation">"</span>base.twig<span class="token punctuation">"</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">block</span></span> <span class="token property">content</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        &lt;article class="post-type-</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">post_type</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">" id="post-</span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">ID</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other">"><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br>                <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">block</span></span> <span class="token property">headline</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>                    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">title</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>article-h2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">subtitle</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></span><br>                <span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endblock</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><br>                <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>blog-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>By<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">author</span><span class="token punctuation">.</span><span class="token property">name</span> <span class="token rd"><span class="token punctuation">}}</span></span></span> <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token entity" title="&bull;">&amp;bull;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></span> <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">post_date</span><span class="token operator">|</span><span class="token property">date</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></span><br>                <span class="token tag"><span class="token ld"><span class="token punctuation">{{</span></span> <span class="token property">post</span><span class="token punctuation">.</span><span class="token property">content</span> <span class="token rd"><span class="token punctuation">}}</span></span></span><br>            <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endblock</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><p>Compared to the earlier example of this page, we now have the <code>{% block headline %}</code> bit surrounding the <code>&lt;h1&gt;</code> and <code>&lt;h2&gt;</code>.</p><p>To inject my custom bit of markup, I’m going to create a file called <code>single-all-about-jared.twig</code> in the <code>views</code> directory. The logic for which template should be selected is controlled in <code>single.php</code> but generally follows WordPress conventions on Template Hierarchy. Inside that file, all I need is:</p><p><strong>single-all-about-jared.twig</strong></p><pre class="language-twig"><code class="language-twig"><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">extends</span></span> <span class="token string"><span class="token punctuation">"</span>single.twig<span class="token punctuation">"</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">block</span></span> <span class="token property">headline</span> <span class="token rd"><span class="token punctuation">%}</span></span></span><br>    <span class="token other"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/wp-content/uploads/2014/05/jareds-face.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Jared’s Mug<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span><br><span class="token tag"><span class="token ld"><span class="token punctuation">{%</span> <span class="token keyword">endblock</span></span> <span class="token rd"><span class="token punctuation">%}</span></span></span></code></pre><p>So two big concepts going on here:</p><ol><li><strong>Multiple Inheritance:</strong> I’m extending <code>{% single.twig %}</code>, which itself extends <code>{% base.twig %}</code>. Thus we stay true to <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> and don’t have very similar code between my two templates hanging around.</li><li><strong>Nested Blocks:</strong> <code>{% block headline %}</code> is located inside <code>{% block content %}</code>. So while I’m replacing the headline, I get to keep all the other markup and variables found in the parent template.</li></ol><p>What if you want to <strong>add</strong> to the block as opposed to replace? No prob, just call <code>{{ parent() }}</code> where the parent’s content should go.</p><h2 id="the-index-page">The index page <a class="directLink" href="#the-index-page">#</a></h2><p>Let’s crack open <strong>index.php</strong> and see what’s inside:</p><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$context</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'posts'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">render</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'index.twig'</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>This is where we are going to handle the logic that powers our index file. Let’s go step-by-step.</p><h3 id="get-the-context">Get the context <a class="directLink" href="#get-the-context">#</a></h3><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$context</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>This is going to return an object with a lot of the common things we need across the site. Things like the site name, the description or the navigation menu you’ll want to start with each time (even if you over-write them later). You can do a <code>print_r( $context );</code> to see what’s inside or open-up <a href="https://github.com/timber/timber/blob/master/lib/Timber.php"><strong>Timber.php</strong></a> to inspect for yourself.</p><h3 id="grab-your-posts">Grab your posts <a class="directLink" href="#grab-your-posts">#</a></h3><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'posts'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>We’re now going to grab the posts that are inside the loop and stick them inside our data object under the <strong>posts</strong> key.</p><h2 id="how-to-use-timberget_posts">How to use Timber::get_posts() <a class="directLink" href="#how-to-use-timberget_posts">#</a></h2><h3 id="use-a-wp_query-array">Use a WP_Query array <a class="directLink" href="#use-a-wp_query-array">#</a></h3><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$args</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><br>    <span class="token single-quoted-string string">'post_type'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'post'</span><span class="token punctuation">,</span><br>    <span class="token single-quoted-string string">'tax_query'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">array</span><span class="token punctuation">(</span><br>        <span class="token single-quoted-string string">'relation'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'AND'</span><span class="token punctuation">,</span><br>        <span class="token keyword">array</span><span class="token punctuation">(</span><br>            <span class="token single-quoted-string string">'taxonomy'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'movie_genre'</span><span class="token punctuation">,</span><br>            <span class="token single-quoted-string string">'field'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'slug'</span><span class="token punctuation">,</span><br>            <span class="token single-quoted-string string">'terms'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'action'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'comedy'</span> <span class="token punctuation">)</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token keyword">array</span><span class="token punctuation">(</span><br>            <span class="token single-quoted-string string">'taxonomy'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'actor'</span><span class="token punctuation">,</span><br>            <span class="token single-quoted-string string">'field'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span><br>            <span class="token single-quoted-string string">'terms'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">206</span> <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token single-quoted-string string">'operator'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'NOT IN'</span><br>        <span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'posts'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_posts</span><span class="token punctuation">(</span> <span class="token variable">$args</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>You can find all available options in the documentation for <a href="http://codex.wordpress.org/Class_Reference/WP_Query">WP_Query</a>.</p><h3 id="use-a-wp_query-string">Use a WP_Query string <a class="directLink" href="#use-a-wp_query-string">#</a></h3><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$args</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'post_type=movies&amp;numberposts=8&amp;orderby=rand'</span><span class="token punctuation">;</span><br><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'posts'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_posts</span><span class="token punctuation">(</span> <span class="token variable">$args</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><h3 id="use-post-id-numbers">Use Post ID numbers <a class="directLink" href="#use-post-id-numbers">#</a></h3><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token variable">$ids</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">234</span><span class="token punctuation">,</span> <span class="token number">421</span><span class="token punctuation">,</span> <span class="token number">811</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token variable">$context</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'posts'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_posts</span><span class="token punctuation">(</span> <span class="token variable">$ids</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><h2 id="render">Render <a class="directLink" href="#render">#</a></h2><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>Timber<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">render</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'index.twig'</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>We’re now telling Twig to find <strong>index.twig</strong> and send it our data object.</p><p>Timber will look first in the child theme and then falls back to the parent theme (same as WordPress logic). The official load order is:</p><ol><li>User-defined locations</li><li>Directory of calling PHP script (but not theme)</li><li>Child theme</li><li>Parent theme</li><li>Directory of calling PHP script (including the theme)</li></ol><p>Item 2 is inserted above others so that if you’re using Timber in a plugin it will use the twig files in the plugin’s directory.</p>